Script started on 2025-10-14 21:10:15-07:00 [TERM="xterm-256color" TTY="/dev/pts/0" COLUMNS="255" LINES="54"]
[1m[7m%[27m[1m[0m                                                                                                                                                                                                                                                               ]2;kyle@kyle:~]1;~[0m[27m[24m[J[01;32m➜  [36m~[00m [K[?1h=[?2004hc[32mc[39m[32mc[39m[90md[39m[32mc[32md[39m
[0;1;2mcommand[0m
[J[0mcd                 [Jcd-create-profile  [Jcd-fix-profile     [Jcd-iccdump         [Jcd-it8             [Jcdrdao           [J[A[A[0m[27m[24m[5C[32mcd[39m[K[32mc[32md[32m [39m
[J[A[8C[32mc[32md[39m[39m [90m/home/kyle/Deployments/debug-logs[39m[33D
[J[0;1;2mdirectory[0m
[J[01;34masus-tools[0m/   [J[01;34mDeployments[0m/  [J[01;34mDesktop[0m/      [J[01;34mDocuments[0m/    [J[01;34mDownloads[0m/    [J[01;34mllama.cpp[0m/    [J[01;34mmcp-env[0m/      [J[01;34mMusic[0m/        [J[01;34mPictures[0m/     [J[01;34mPublic[0m/       [J[01;34mTemplates[0m/    [J[01;34mVideos[0m/     [J[A[A[0m[27m[24m[5C[32mcd[39m [90m/home/kyle/Deployments/debug-logs[39m[K[33D[39m/[39mh[39mo[39mm[39me[39m/[39mk[39my[39ml[39me[39m/[39mD[39me[39mp[39ml[39mo[39my[39mm[39me[39mn[39mt[39ms[39m/[39md[39me[39mb[39mu[39mg[39m-[39ml[39mo[39mg[39ms[33D[4m/[4mh[4mo[4mm[4me[4m/[4mk[4my[4ml[4me[4m/[4mD[4me[4mp[4ml[4mo[4my[4mm[4me[4mn[4mt[4ms[4m/[4md[4me[4mb[4mu[4mg[4m-[4ml[4mo[4mg[4ms[24m
[J[0;1;2mdirectory[0m
[J[01;34mdebug-logs[0m/[J[A[A[0m[27m[24m[5C[32mcd[39m [4m/home/kyle/Deployments/debug-logs[24m[K[4mg[24m[24m [90ms[39m
[J[0;1;2mdirectory[0m
[J[01;34mdebug-logs[0m/[J[A[A[0m[27m[24m[5C[32mcd[39m [4m/home/kyle/Deployments/debug-log[24m[90ms[39m[K[4mo[24m[24m[90ms[39m[39m [34D[39mc[39md [24m/[24mh[24mo[24mm[24me[24m/[24mk[24my[24ml[24me[24m/[24mD[24me[24mp[24ml[24mo[24my[24mm[24me[24mn[24mt[24ms[24m/[24md[24me[24mb[24mu[24mg[24m-[24ml[24mo [39m  [32D[32mc[32md[39m [4m/[4mh[4mo[4mm[4me[4m/[4mk[4my[4ml[4me[4m/[4mD[4me[4mp[4ml[4mo[4my[4mm[4me[4mn[4mt[4ms[4m/[4md[4me[4mb[4mu[4mg[4m-[24m[90mlogs[39m[4mg[24m[24m [39m [39m [39m [39m [90m-logs[39m[4mu[24m[24m [39m [39m [39m [39m [39m 
[J[0;1;2mdirectory[0m
[J[01;34mdebug-logs[0m/[J[A[A[0m[27m[24m[5C[32mcd[39m [4m/home/kyle/Deployments/debu[24m[K[90mg-logs[39m[4mb[24m[24m [39m [39m [39m [39m [39m [39m [90mug-logs[39m
[J[0;1;2mdirectory[0m
[J[01;34mdebug-logs[0m/[J[A[A[0m[27m[24m[5C[32mcd[39m [4m/home/kyle/Deployments/deb[24m[90mug-logs[39m[K[4me[24m[24m [39m [39m [39m [39m [39m [39m [39m [8D[90mbug-logs[39m[8D
[J[0;1;2mdirectory[0m
[J[01;34mdebug-logs[0m/[J[A[A[0m[27m[24m[5C[32mcd[39m [4m/home/kyle/Deployments/de[24m[90mbug-logs[39m[K[8D[4md[24m[24m [39m [39m [39m [39m [39m [39m [39m [39m [9D[90mebug-logs[39m[9D
[J[0;1;2mdirectory[0m
[J[01;34mdebug-logs[0m/[J[A[A[0m[27m[24m[5C[32mcd[39m [4m/home/kyle/Deployments/d[24m[90mebug-logs[39m[K[9D[4m/[24m[24m [39m [39m [39m [39m [39m [39m [39m [39m [39m [10D[90mdebug-logs[39m[10D
[J[0;1;2mdirectory[0m
[J[01;34mdebug-logs[0m/            [J[01;34mmcp-server-taskler[0m/    [J[01;34mmvp-llm-python-sever[0m/[J[A[A[0m[27m[24m[5C[32mcd[39m [4m/home/kyle/Deployments/[24m[90mdebug-logs[39m[K[10D
[J[A[31C[39md[39me[39mb[39mu[39mg[39m-[39ml[39mo[39mg[39ms[10D[4m/[4md[4me[4mb[4mu[4mg[4m-[4ml[4mo[4mg[4ms[1m[4m/[0m[24m[4ms[24m[0m[24m 
[J[0;1;2mdirectory[0m
[J[01;34mdebug-logs[0m/[J[A[A[0m[27m[24m[5C[32mcd[39m [4m/home/kyle/Deployments/debug-logs[24m[K[4mg[24m[24m [35D[39mc[39md [24m/[24mh[24mo[24mm[24me[24m/[24mk[24my[24ml[24me[24m/[24mD[24me[24mp[24ml[24mo[24my[24mm[24me[24mn[24mt[24ms[24m/[24md[24me[24mb[24mu[24mg[24m-[24ml[24mo[24mg [34D[32mc[32md[39m [4m/[4mh[4mo[4mm[4me[4m/[4mk[4my[4ml[4me[4m/[4mD[4me[4mp[4ml[4mo[4my[4mm[4me[4mn[4mt[4ms[4m/[4md[4me[4mb[4mu[4mg[4m-[4ml[4mo[24m[90mgs[39m
[J[0;1;2mdirectory[0m
[J[01;34mdebug-logs[0m/[J[A[A[0m[27m[24m[5C[32mcd[39m [4m/home/kyle/Deployments/debug-lo[24m[90mgs[39m[K[4ml[24m[24m [39m [39m [90mogs[39m[4m-[24m[24m [39m [39m [39m [90mlogs[39m
[J[0;1;2mdirectory[0m
[J[01;34mdebug-logs[0m/[J[A[A[0m[27m[24m[5C[32mcd[39m [4m/home/kyle/Deployments/debug-[24m[90mlogs[39m[K[4mg[24m[24m [39m [39m [39m [39m [90m-logs[39m
[J[0;1;2mdirectory[0m
[J[01;34mdebug-logs[0m/[J[A[A[0m[27m[24m[5C[32mcd[39m [4m/home/kyle/Deployments/debug[24m[90m-logs[39m[K[4mu[24m[24m [39m [39m [39m [39m [39m [90mg-logs[39m[4mb[24m[24m [39m [39m [39m [39m [39m [39m [90mug-logs[39m
[J[0;1;2mdirectory[0m
[J[01;34mdebug-logs[0m/[J[A[A[0m[27m[24m[5C[32mcd[39m [4m/home/kyle/Deployments/deb[24m[90mug-logs[39m[K[4me[24m[24m [39m [39m [39m [39m [39m [39m [39m [8D[90mbug-logs[39m[8D
[J[0;1;2mdirectory[0m
[J[01;34mdebug-logs[0m/[J[A[A[0m[27m[24m[5C[32mcd[39m [4m/home/kyle/Deployments/de[24m[90mbug-logs[39m[K[8D[4md[24m[24m [39m [39m [39m [39m [39m [39m [39m [39m [9D[90mebug-logs[39m[9D
[J[0;1;2mdirectory[0m
[J[01;34mdebug-logs[0m/[J[A[A[0m[27m[24m[5C[32mcd[39m [4m/home/kyle/Deployments/d[24m[90mebug-logs[39m[K[9D[4m/[24m[24m [39m [39m [39m [39m [39m [39m [39m [39m [39m [10D[90mdebug-logs[39m[10D
[J[0;1;2mdirectory[0m
[J[01;34mdebug-logs[0m/            [J[01;34mmcp-server-taskler[0m/    [J[01;34mmvp-llm-python-sever[0m/[J[A[A[0m[27m[24m[5C[32mcd[39m [4m/home/kyle/Deployments/[24m[90mdebug-logs[39m[K[10D[4m/[39m[4mm[24m[39m [39m [39m [39m [39m [39m [39m [39m [39m [9D[90mvp-llm-python-sever[39m[19D
[J[0;1;2mdirectory[0m
[J[01;34mmcp-server-taskler[0m/    [J[01;34mmvp-llm-python-sever[0m/[J[A[A[0m[27m[24m[5C[32mcd[39m [4m/home/kyle/Deployments/m[24m[90mvp-llm-python-sever[39m[K[19D[4mm[39m[4mv[24m
[J[0;1;2mdirectory[0m
[J[01;34mmvp-llm-python-sever[0m/[J[A[A[0m[27m[24m[5C[32mcd[39m [4m/home/kyle/Deployments/mv[24m[90mp-llm-python-sever[39m[K[18D[4mv[39m[4mp[24m
[J[0;1;2mdirectory[0m
[J[01;34mmvp-llm-python-sever[0m/[J[A[A[0m[27m[24m[5C[32mcd[39m [4m/home/kyle/Deployments/mvp[24m[90m-llm-python-sever[39m[K[17D[39m-[39ml[39ml[39mm[39m-[39mp[39my[39mt[39mh[39mo[39mn[39m-[39ms[39me[39mv[39me[39mr[18D[4mp[4m-[4ml[4ml[4mm[4m-[4mp[4my[4mt[4mh[4mo[4mn[4m-[4ms[4me[4mv[4me[4mr[24m
[J[0;1;2mdirectory[0m
[J[01;34mmvp-llm-python-sever[0m/[J[A[A[0m[27m[24m[5C[32mcd[39m [4m/home/kyle/Deployments/mvp-llm-python-sever[24m[K[?1l>[?2004l
[J[A[51C
[J]2;cd /home/kyle/Deployments/mvp-llm-python-sever]1;cd[1m[7m%[27m[1m[0m                                                                                                                                                                                                                                                               ]2;kyle@kyle:~/Deployments/mvp-llm-python-sever]1;..-python-sever[0m[27m[24m[J[01;32m➜  [36mmvp-llm-python-sever[00m [K[?1h=[?2004h[0m[27m[24m[J[01;32m➜  [36mmvp-llm-python-sever[00m [01;34mgit:([31mmain[34m)[00m [K[0m[27m[24m[J[01;32m➜  [36mmvp-llm-python-sever[00m [01;34mgit:([31mmain[34m)[00m [0m[27m[24m[J[01;32m➜  [36mmvp-llm-python-sever[00m [01;34mgit:([31mmain[34m)[00m [0m[27m[24m[J[01;32m➜  [36mmvp-llm-python-sever[00m [01;34mgit:([31mmain[34m)[00m [0m[27m[24m[J[01;32m➜  [36mmvp-llm-python-sever[00m [01;34mgit:([31mmain[34m)[00m [0m[27m[24m[J[01;32m➜  [36mmvp-llm-python-sever[00m [01;34mgit:([31mmain[34m)[00m [0m[27m[24m[J[01;32m➜  [36mmvp-llm-python-sever[00m [01;34mgit:([31mmain[34m)[00m c[32mc[39m[32mc[39m[90md /home/kyle/Deployments/mvp-llm-python-sever[39m[45D[32mc[32md[39m
[0;1;2mcommand[0m
[J[0mcd                 [Jcd-create-profile  [Jcd-fix-profile     [Jcd-iccdump         [Jcd-it8             [Jcdrdao           [J[A[A[0m[27m[24m[35C[32mcd[39m[90m /home/kyle/Deployments/mvp-llm-python-sever[39m[K[44D[32mc[32md[32m [39m
[J[A[38C[32mc[32md[39m[39m 
[J[0;1;2mdirectory[0m
[J[01;34mgenerate_response[0m/  [J[01;34mintents[0m/            [J[01;34m__pycache__[0m/        [J[01;34mrefine[0m/             [J[01;34mutils[0m/              [J[01;34mvenv[0m/             [J[A[A[0m[27m[24m[35C[32mcd[39m [90m/home/kyle/Deployments/mvp-llm-python-sever[39m[K[43D[39m.[39m [39m [39m [39m [39m [39m [39m [39m [39m [39m [39m [39m [39m [39m [39m [39m [39m [39m [39m [39m [39m [39m [39m [39m [39m [39m [39m [39m [39m [39m [39m [39m [39m [39m [39m [39m [39m [39m [39m [39m [39m [39m [42D[4m.[24m[90m./mvp-llm-python-sever[39m[22D
[J[0;1;2mdirectory[0m
[J[01;34m.git[0m/[J[A[A[0m[27m[24m[35C[32mcd[39m [4m.[24m[90m./mvp-llm-python-sever[39m[K[22D[4m.[39m[4m.[24m
[J[A[40C[4m.[39m[4m/[24m
[J[0;1;2mdirectory[0m
[J[01;34mdebug-logs[0m/          [J[01;34mmcp-server-taskler[0m/[J[A[A[0m[27m[24m[35C[32mcd[39m [4m../[24m[90mmvp-llm-python-sever[39m[K[20D[4m/[39m[4mm[24m[90mm[90mv[90mp[90m-[90ml[90ml[90mm[90m-[90mp[90my[90mt[90mh[90mo[90mn[90m-[90ms[90me[90mv[90me[90mr[39m[20D[39mc[39md [24m.[24m.[24m/[24mm[39mc[39m [39m [39m [39m [39m [39m [39m [39m [39m [39m [39m [39m [39m [39m [39m [39m [39m [39m [39m [19D[8D[32mc[32md[39m [4m.[4m.[4m/[4mm[4mc[24m[90mp-server-taskler[39m[16D
[J[0;1;2mdirectory[0m
[J[01;34mmcp-server-taskler[0m/[J[A[A[0m[27m[24m[35C[32mcd[39m [4m../mc[24m[90mp-server-taskler[39m[K[16D[4mc[39m[4mp[24m
[J[0;1;2mdirectory[0m
[J[01;34mmcp-server-taskler[0m/[J[A[A[0m[27m[24m[35C[32mcd[39m [4m../mcp[24m[90m-server-taskler[39m[K[15D
[J[A[44C[39m-[39ms[39me[39mr[39mv[39me[39mr[39m-[39mt[39ma[39ms[39mk[39ml[39me[39mr[15D[4mp[4m-[4ms[4me[4mr[4mv[4me[4mr[4m-[4mt[4ma[4ms[4mk[4ml[4me[4mr[1m[4m/[0m[24m
[J[0;1;2mdirectory[0m
[J[01;34mdist[0m/          [J[01;34mnode_modules[0m/  [J[01;34msrc[0m/         [J[A[A[0m[27m[24m[35C[32mcd[39m [4m../mcp-server-taskler[1m[4m/[0m[24m[K[4mr[24m[0m[24m [?1l>[?2004l
[J[A[59C
[J]2;cd ../mcp-server-taskler]1;cd[1m[7m%[27m[1m[0m                                                                                                                               ]2;kyle@kyle:~/Deployments/mcp-server-taskler]1;..erver-taskler[0m[27m[24m[J[01;32m➜  [36mmcp-server-taskler[00m [01;34mgit:([31mmain[34m)[00m [K[?1h=[?2004h[0m[27m[24m[J[01;32m➜  [36mmcp-server-taskler[00m [01;34mgit:([31mframework-change[34m) [33m✗[00m [Kb[1m[31mb[0m[39m[1m[31mb[0m[39m[90mun test[39m
[0;1;2mcommand[0m
[0mb2sum         baobab            base32           base64          basename      basenc            bash               
bashbug       bashcompinit      bc               bdftogd         bdftopcf      bdftruncate       benchmark_xl       
bf_compact    bf_compact-bdb    bf_copy          bf_copy-bdb     bf_tar        bf_tar-bdb        bg                 
bin2c         bindkey           bioradtopgm      bitmap          bits          blkdiscard        blkid              
blkpr         blkzone           blockdev         bluemoon        bluetoothctl  bluetooth-sendto  bmptopnm           
bmptoppm      bmtoa             bogofilter       bogofilter-bdb  bogolexer     bogolexer-bdb     bogotune           
bogotune-bdb  bogoupgrade       bogoupgrade-bdb  bogoutil        bogoutil-bdb  boltctl           bracketed-paste-magic
break         brew              broadwayd        brotli          brushtopbm    btattach          btmgmt             
btmon         buildhash         builtin          bun             bunx          bunzip2           busctl             
busybox       butteraugli_main  bwrap            bye             bzcat         bzcmp             bzdiff             
bzegrep       bzexe             bzfgrep          bzgrep          bzip2         bzip2recover      bzless             
[Jbzmore        [Jbzr_prompt_info   [J                                                                            [13A[0m[27m[24m[47C[1m[31mb[0m[39m[90mun test[39m[K[1m[31mb[1m[31mu[0m[39m
[J[0;1;2mcommand[0m
[J[0mbuildhash    [Jbuiltin    [Jbun    [Jbunx    [Jbunzip2    [Jbusctl    [Jbusybox    [Jbutteraugli_main    [J[A[A[0m[27m[24m[47C[1m[31mbu[0m[39m[90mn test[39m[K[1m[31mb[1m[31mu[1m[31mn[0m[39m[0m[32mb[0m[32mu[0m[32mn[39m
[J[0;1;2mcommand[0m
[J[0mbun      [Jbunx     [Jbunzip2[J[A[A[0m[27m[24m[47C[32mbun[39m[90m test[39m[K[32mn[32m [39m
[J[A[51C[32mn[39m[39m [32m[39m[32m[39m[32m[39m[32m[39m[32m[39m[32m[39m[32m[39m[32m[39m[32m[39m[32m[39m[32m[39m[32m[39m[30m[104m[39m[49m[32m[39m[32m[39m[30m[104m[39m[49m[32m[39m[32m[39m[30m[104m[39m[49m
[J[32m-- scripts --[39m
[0mdev        start      typecheck
[32m-- command --[39m
[0madd       -- Add a dependency to package.json (bun a)
create    -- Create a new project from a template (bun c)
init      -- Start an empty Bun project from a blank template
install   -- Install dependencies for a package.json (bun i)
link      -- Link an npm package globally
outdated  -- Display the latest versions of outdated dependencies
remove    -- Remove a dependency from package.json (bun rm)
repl      -- Start a REPL session with Bun
run       -- Run JavaScript with Bun, a package.json script, or a bin
test      -- Run unit tests with Bun
unlink    -- Globally unlink an npm package
update    -- Update outdated dependencies & save to package.json
x         -- Install and execute a package bin (bunx)
[J[30m[104m(MORE)[39m[49m[17A[0m[27m[24m[47C[32mbun[39m [90mtest[39m[K[39md[39m [39m [39m [4md[24m[90mev[39m[32m[39m[32m[39m[32m[39m[32m[39m[32m[39m[32m[39m
[J[32m-- scripts --[39m
[J[0mdev[J[A[A[0m[27m[24m[47C[32mbun[39m [4md[24m[90mev[39m[K[24m [39m [39m [90mtest[39m[32m[39m[32m[39m[32m[39m[32m[39m[32m[39m[32m[39m[32m[39m[32m[39m[32m[39m[32m[39m[32m[39m[32m[39m[30m[104m[39m[49m[32m[39m[32m[39m[30m[104m[39m[49m[32m[39m[32m[39m[30m[104m[39m[49m
[J[32m-- scripts --[39m
[0mdev        start      typecheck
[32m-- command --[39m
[0madd       -- Add a dependency to package.json (bun a)
create    -- Create a new project from a template (bun c)
init      -- Start an empty Bun project from a blank template
install   -- Install dependencies for a package.json (bun i)
link      -- Link an npm package globally
outdated  -- Display the latest versions of outdated dependencies
remove    -- Remove a dependency from package.json (bun rm)
repl      -- Start a REPL session with Bun
run       -- Run JavaScript with Bun, a package.json script, or a bin
test      -- Run unit tests with Bun
unlink    -- Globally unlink an npm package
update    -- Update outdated dependencies & save to package.json
x         -- Install and execute a package bin (bunx)
[J[30m[104m(MORE)[39m[49m[17A[0m[27m[24m[47C[32mbun[39m [90mtest[39m[K[39mt[4mt[24m[32m[39m[32m[39m[32m[39m[32m[39m[32m[39m[32m[39m[32m[39m[32m[39m[32m[39m[32m[39m[32m[39m[32m[39m[32m[39m[32m[39m[32m[39m[32m[39m
[J[32m-- scripts --[39m
[0mtypecheck
[32m-- command --[39m
[J[0mtest  -- Run unit tests with Bun[J[4A[0m[27m[24m[47C[32mbun[39m [4mt[24m[90mest[39m[K[4mt[39m[4me[24m[24mt[24me[39ms[32m[39m[32m[39m[32m[39m[32m[39m
[J[32m-- command --[39m
[J[0mtest  -- Run unit tests with Bun[J[A[A[0m[27m[24m[47C[32mbun[39m tes[90mt[39m[K[39mt[32m[39m[32m[39m[32m[39m[32m[39m
[J[32m-- command --[39m
[J[0mtest  -- Run unit tests with Bun[J[A[A[0m[27m[24m[47C[32mbun[39m test[K 
[J[A[56C[90msrc/tests/api/schedules-bun.test.ts[39m[35D
[J[0;1;2mdirectory[0m
[J[01;34mdist[0m/          [J[01;34mnode_modules[0m/  [J[01;34msrc[0m/         [J[A[A[0m[27m[24m[47C[32mbun[39m test [90msrc/tests/api/schedules-bun.test.ts[39m[K[35D[39ms[39mr[39mc[39m/[39mt[39me[39ms[39mt[39ms[39m/[39ma[39mp[39mi[39m/[39ms[39mc[39mh[39me[39md[39mu[39ml[39me[39ms[39m-[39mb[39mu[39mn[39m.[39mt[39me[39ms[39mt[39m.[39mt[39ms[35D[4ms[4mr[4mc[4m/[4mt[4me[4ms[4mt[4ms[4m/[4ma[4mp[4mi[4m/[4ms[4mc[4mh[4me[4md[4mu[4ml[4me[4ms[4m-[4mb[4mu[4mn[4m.[4mt[4me[4ms[4mt[4m.[4mt[4ms[24m
[J[0;1;2mfile[0m
[J[0mschedules-bun.test.ts[J[A[A[0m[27m[24m[47C[32mbun[39m test [4msrc/tests/api/schedules-bun.test.ts[24m[K[?1l>[?2004l
[J[A[91C
[J]2;bun test src/tests/api/schedules-bun.test.ts]1;bun[0m[1mbun test [0m[2mv1.3.0 (b0a6feca)[0m
[0m
src/tests/api/schedules-bun.test.ts:
[dotenv@17.2.3] injecting env (0) from .env [2m-- tip: 🗂️ backup and recover secrets: https://dotenvx.com/ops[0m
Loaded MODEL_PARSE: /home/kyle/.models/mistral-7b-instruct-v0.1.Q4_K_M.gguf
[]
User Input:  How are you doing?
classifyIntent is called
Intent returned :  other
response from LLM SERVER :  {
  [0mnatural_response[2m:[0m [0m[32m[0m[32m"I'm here to help with your schedule! What task can I assist with today?"[0m[0m[0m[2m,[0m
}
Generated response:  I'm here to help with your schedule! What task can I assist with today?
naturalResponse/other :  I'm here to help with your schedule! What task can I assist with today?
[0m[1m4 |[0m [0m[35mimport[0m { describe, expect, test, jest } [0m[35mfrom[0m [0m[32m"bun:test"[0m[0m[2m;[0m
[0m[1m5 |[0m [0m[35mimport[0m { fileURLToPath } [0m[35mfrom[0m [0m[32m"url"[0m[0m[2m;[0m
[0m[1m6 |[0m 
[0m[1m7 |[0m [0m[35mfunction[0m parseNdjsonResponse(res: [0m[34many[0m): [0m[34many[0m[] {
[0m[1m8 |[0m   [0m[35mconst[0m chunks: [0m[34many[0m[] = [][0m[2m;[0m
[0m[1m9 |[0m   [0m[35mconst[0m lines = res.text[0m[3m[1m.split[0m([0m[32m"\n"[0m)[0m[3m[1m.filter[0m((line) => line[0m[3m[1m.trim[0m())[0m[2m;[0m
                             [31m[1m^[0m
[0m[31mTypeError[0m[2m:[0m [1mres.text.split is not a function. (In 'res.text.split(`
`)', 'res.text.split' is undefined)[0m
[0m      [2mat [0m[0m[1m[3mparseNdjsonResponse[0m[2m ([0m[0m[36m[2m/home/kyle/Deployments/mcp-server-taskler/[0m[36msrc/tests/api/schedules-bun.test.ts[0m[2m:[0m[33m9[0m[2m:[33m26[0m[2m)[0m
[0m      [2mat [0m[0m[2m<anonymous>[0m[2m ([0m[0m[36m[2m/home/kyle/Deployments/mcp-server-taskler/[0m[36msrc/tests/api/schedules-bun.test.ts[0m[2m:[0m[33m49[0m[2m:[33m20[0m[2m)[0m
[0m[31m✗[0m [0mAPI Endpoint : POST /mcp/tools/process-query[2m >[0m[1m should handle chit-chat query ("other" intent)[0m [0m[2m[[1m1343.97ms[0m[2m][0m
[]
User Input:  What is 2 + 3 * 4?
classifyIntent is called
Intent returned :  other
response from LLM SERVER :  {
  [0mnatural_response[2m:[0m [0m[32m[0m[32m"Result: t. How does this relate to your schedule ? "[0m[0m[0m[2m,[0m
}
Generated response:  Result: t. How does this relate to your schedule ? 
naturalResponse/other :  Result: t. How does this relate to your schedule ? 
[0m[1m4 |[0m [0m[35mimport[0m { describe, expect, test, jest } [0m[35mfrom[0m [0m[32m"bun:test"[0m[0m[2m;[0m
[0m[1m5 |[0m [0m[35mimport[0m { fileURLToPath } [0m[35mfrom[0m [0m[32m"url"[0m[0m[2m;[0m
[0m[1m6 |[0m 
[0m[1m7 |[0m [0m[35mfunction[0m parseNdjsonResponse(res: [0m[34many[0m): [0m[34many[0m[] {
[0m[1m8 |[0m   [0m[35mconst[0m chunks: [0m[34many[0m[] = [][0m[2m;[0m
[0m[1m9 |[0m   [0m[35mconst[0m lines = res.text[0m[3m[1m.split[0m([0m[32m"\n"[0m)[0m[3m[1m.filter[0m((line) => line[0m[3m[1m.trim[0m())[0m[2m;[0m
                             [31m[1m^[0m
[0m[31mTypeError[0m[2m:[0m [1mres.text.split is not a function. (In 'res.text.split(`
`)', 'res.text.split' is undefined)[0m
[0m      [2mat [0m[0m[1m[3mparseNdjsonResponse[0m[2m ([0m[0m[36m[2m/home/kyle/Deployments/mcp-server-taskler/[0m[36msrc/tests/api/schedules-bun.test.ts[0m[2m:[0m[33m9[0m[2m:[33m26[0m[2m)[0m
[0m      [2mat [0m[0m[2m<anonymous>[0m[2m ([0m[0m[36m[2m/home/kyle/Deployments/mcp-server-taskler/[0m[36msrc/tests/api/schedules-bun.test.ts[0m[2m:[0m[33m78[0m[2m:[33m20[0m[2m)[0m
[0m[31m✗[0m [0mAPI Endpoint : POST /mcp/tools/process-query[2m >[0m[1m should handle computational-math query ("other" intent)[0m [0m[2m[[1m467.97ms[0m[2m][0m
[{"text":"tomorrow at 10 AM","start":"2025-10-10T17:00:00.000Z","end":null}]
User Input:  Schedule a meeting tomorrow at 10 AM in PDT
classifyIntent is called
events is parsed with regex:  [
  {
    [0msummary[2m:[0m [0m[32m[0m[32m"Event"[0m[0m[0m[2m,[0m
    [0mdate[2m:[0m [0m[32m[0m[32m"2025-10-10"[0m[0m[0m[2m,[0m
    [0mstartTime[2m:[0m [0m[32m[0m[32m"10:00"[0m[0m[0m[2m,[0m
    [0mendTime[2m:[0m [0m[2mundefined[0m[0m[2m,[0m
    [0mduration_minutes[2m:[0m [0m[33m60[0m[0m[2m,[0m
    [0mtimezone[2m:[0m [0m[32m[0m[32m"America/Los_Angeles"[0m[0m[0m[2m,[0m
    [0mlocation[2m:[0m [0m[32m[0m[32m"10 AM in PDT"[0m[0m[0m[2m,[0m
    [0mdisplayTime[2m:[0m [0m[32m[0m[32m"10:00 am"[0m[0m[0m[2m,[0m
  }
]
Regex partial imperfect-refining with LLM
Ready to send Payload:  {
  [0mpartial[2m:[0m {
    [0mevents[2m:[0m [
      [0m[36m[Object ...][0m
    ][0m[2m,[0m
    [0mconfirm[2m:[0m [0m[32m[0m[32m"Missing end time. Confirm default 60 minutes?"[0m[0m[0m[2m,[0m
  }[0m[2m,[0m
  [0minput[2m:[0m [0m[32m[0m[32m"Schedule a meeting tomorrow at 10 AM in PDT"[0m[0m[0m[2m,[0m
  [0mtimezone[2m:[0m [0m[32m[0m[32m"America/Los_Angeles"[0m[0m[0m[2m,[0m
  [0mreference_date[2m:[0m [0m[32m[0m[32m"2025-10-15"[0m[0m[0m[2m,[0m
  [0mparsed_results[2m:[0m [
    {
      [0mtext[2m:[0m [0m[32m[0m[32m"tomorrow at 10 AM"[0m[0m[0m[2m,[0m
      [0mstart[2m:[0m [0m[32m[0m[32m"2025-10-10T17:00:00.000Z"[0m[0m[0m[2m,[0m
      [0mend[2m:[0m [0m[33mnull[0m[0m[2m,[0m
    }
  ][0m[2m,[0m
}
Refined from server:  {
  [0mevents[2m:[0m [
    {
      [0msummary[2m:[0m [0m[32m[0m[32m"Event"[0m[0m[0m[2m,[0m
      [0mdate[2m:[0m [0m[32m[0m[32m"2025-10-10"[0m[0m[0m[2m,[0m
      [0mstartTime[2m:[0m [0m[32m[0m[32m"10:00"[0m[0m[0m[2m,[0m
      [0mendTime[2m:[0m [0m[2mundefined[0m[0m[2m,[0m
      [0mduration_minutes[2m:[0m [0m[33m60[0m[0m[2m,[0m
      [0mtimezone[2m:[0m [0m[32m[0m[32m"America/Los_Angeles"[0m[0m[0m[2m,[0m
      [0mlocation[2m:[0m [0m[32m[0m[32m"10 AM in PDT"[0m[0m[0m[2m,[0m
      [0mdisplayTime[2m:[0m [0m[32m[0m[32m"10:00 am"[0m[0m[0m[2m,[0m
    }
  ][0m[2m,[0m
  [0mconfirm[2m:[0m [0m[32m[0m[32m"Partial parse-confirm?"[0m[0m[0m[2m,[0m
}
Parsing Completed
Time Completed Parsing:  [0m[33m15887.458243[0m
[0m[1m4 |[0m [0m[35mimport[0m { describe, expect, test, jest } [0m[35mfrom[0m [0m[32m"bun:test"[0m[0m[2m;[0m
[0m[1m5 |[0m [0m[35mimport[0m { fileURLToPath } [0m[35mfrom[0m [0m[32m"url"[0m[0m[2m;[0m
[0m[1m6 |[0m 
[0m[1m7 |[0m [0m[35mfunction[0m parseNdjsonResponse(res: [0m[34many[0m): [0m[34many[0m[] {
[0m[1m8 |[0m   [0m[35mconst[0m chunks: [0m[34many[0m[] = [][0m[2m;[0m
[0m[1m9 |[0m   [0m[35mconst[0m lines = res.text[0m[3m[1m.split[0m([0m[32m"\n"[0m)[0m[3m[1m.filter[0m((line) => line[0m[3m[1m.trim[0m())[0m[2m;[0m
                             [31m[1m^[0m
[0m[31mTypeError[0m[2m:[0m [1mres.text.split is not a function. (In 'res.text.split(`
`)', 'res.text.split' is undefined)[0m
[0m      [2mat [0m[0m[1m[3mparseNdjsonResponse[0m[2m ([0m[0m[36m[2m/home/kyle/Deployments/mcp-server-taskler/[0m[36msrc/tests/api/schedules-bun.test.ts[0m[2m:[0m[33m9[0m[2m:[33m26[0m[2m)[0m
[0m      [2mat [0m[0m[2m<anonymous>[0m[2m ([0m[0m[36m[2m/home/kyle/Deployments/mcp-server-taskler/[0m[36msrc/tests/api/schedules-bun.test.ts[0m[2m:[0m[33m107[0m[2m:[33m20[0m[2m)[0m
[0m[31m✗[0m [0mAPI Endpoint : POST /mcp/tools/process-query[2m >[0m[1m should handle single event add query ("add" intent)[0m [0m[2m[[0m[33m15890.61ms[0m[2m][0m
[{"text":"October 1, 2025 from 10am to 11am","start":"2025-10-01T17:00:00.000Z","end":"2025-10-01T18:00:00.000Z"},{"text":"October 2, 2025 from 12pm to 1pm","start":"2025-10-02T19:00:00.000Z","end":"2025-10-02T20:00:00.000Z"},{"text":"October 3, 2025 from 2pm to 3pm","start":"2025-10-03T21:00:00.000Z","end":"2025-10-03T22:00:00.000Z"},{"text":"October 4, 2025 from 6am to 7am","start":"2025-10-04T13:00:00.000Z","end":"2025-10-04T14:00:00.000Z"},{"text":"October 5, 2025 from 8pm to 10pm","start":"2025-10-06T03:00:00.000Z","end":"2025-10-06T05:00:00.000Z"},{"text":"October 6, 2025 from 9am to 12pm","start":"2025-10-06T16:00:00.000Z","end":"2025-10-06T19:00:00.000Z"},{"text":"October 7, 2025 from 7pm to 8pm","start":"2025-10-08T02:00:00.000Z","end":"2025-10-08T03:00:00.000Z"}]
User Input:  Add events: Meeting on October 1, 2025 from 10am to 11am at office; Lunch on October 2, 2025 from 12pm to 1pm at cafe; Call on October 3, 2025 from 2pm to 3pm; Workout on October 4, 2025 from 6am to 7am at gym; Movie on October 5, 2025 from 8pm to 10pm at theater; Hiking on October 6, 2025 from 9am to 12pm at park; Dinner on October 7, 2025 from 7pm to 8pm at home
classifyIntent is called
events is parsed with regex:  [
  {
    [0msummary[2m:[0m [0m[32m[0m[32m"events: Meeting on October 1, 2025"[0m[0m[0m[2m,[0m
    [0mdate[2m:[0m [0m[32m[0m[32m"2025-10-01"[0m[0m[0m[2m,[0m
    [0mstartTime[2m:[0m [0m[32m[0m[32m"10:00"[0m[0m[0m[2m,[0m
    [0mendTime[2m:[0m [0m[32m[0m[32m"11:00"[0m[0m[0m[2m,[0m
    [0mduration_minutes[2m:[0m [0m[33m60[0m[0m[2m,[0m
    [0mtimezone[2m:[0m [0m[32m[0m[32m"America/Los_Angeles"[0m[0m[0m[2m,[0m
    [0mlocation[2m:[0m [0m[32m[0m[32m"office"[0m[0m[0m[2m,[0m
    [0mdisplayTime[2m:[0m [0m[32m[0m[32m"10:00 am"[0m[0m[0m[2m,[0m
  }[0m[2m,[0m {
    [0msummary[2m:[0m [0m[32m[0m[32m"Lunch on October 2, 2025"[0m[0m[0m[2m,[0m
    [0mdate[2m:[0m [0m[32m[0m[32m"2025-10-02"[0m[0m[0m[2m,[0m
    [0mstartTime[2m:[0m [0m[32m[0m[32m"12:00"[0m[0m[0m[2m,[0m
    [0mendTime[2m:[0m [0m[32m[0m[32m"13:00"[0m[0m[0m[2m,[0m
    [0mduration_minutes[2m:[0m [0m[33m60[0m[0m[2m,[0m
    [0mtimezone[2m:[0m [0m[32m[0m[32m"America/Los_Angeles"[0m[0m[0m[2m,[0m
    [0mlocation[2m:[0m [0m[32m[0m[32m"cafe"[0m[0m[0m[2m,[0m
    [0mdisplayTime[2m:[0m [0m[32m[0m[32m"12:00 pm"[0m[0m[0m[2m,[0m
  }[0m[2m,[0m {
    [0msummary[2m:[0m [0m[32m[0m[32m"Call on October 3, 2025"[0m[0m[0m[2m,[0m
    [0mdate[2m:[0m [0m[32m[0m[32m"2025-10-03"[0m[0m[0m[2m,[0m
    [0mstartTime[2m:[0m [0m[32m[0m[32m"14:00"[0m[0m[0m[2m,[0m
    [0mendTime[2m:[0m [0m[32m[0m[32m"15:00"[0m[0m[0m[2m,[0m
    [0mduration_minutes[2m:[0m [0m[33m60[0m[0m[2m,[0m
    [0mtimezone[2m:[0m [0m[32m[0m[32m"America/Los_Angeles"[0m[0m[0m[2m,[0m
    [0mlocation[2m:[0m [0m[33mnull[0m[0m[2m,[0m
    [0mdisplayTime[2m:[0m [0m[32m[0m[32m"14:00 pm"[0m[0m[0m[2m,[0m
  }[0m[2m,[0m {
    [0msummary[2m:[0m [0m[32m[0m[32m"Workout on October 4, 2025"[0m[0m[0m[2m,[0m
    [0mdate[2m:[0m [0m[32m[0m[32m"2025-10-04"[0m[0m[0m[2m,[0m
    [0mstartTime[2m:[0m [0m[32m[0m[32m"06:00"[0m[0m[0m[2m,[0m
    [0mendTime[2m:[0m [0m[32m[0m[32m"07:00"[0m[0m[0m[2m,[0m
    [0mduration_minutes[2m:[0m [0m[33m60[0m[0m[2m,[0m
    [0mtimezone[2m:[0m [0m[32m[0m[32m"America/Los_Angeles"[0m[0m[0m[2m,[0m
    [0mlocation[2m:[0m [0m[32m[0m[32m"gym"[0m[0m[0m[2m,[0m
    [0mdisplayTime[2m:[0m [0m[32m[0m[32m"06:00 am"[0m[0m[0m[2m,[0m
  }[0m[2m,[0m {
    [0msummary[2m:[0m [0m[32m[0m[32m"Movie on October 5, 2025"[0m[0m[0m[2m,[0m
    [0mdate[2m:[0m [0m[32m[0m[32m"2025-10-05"[0m[0m[0m[2m,[0m
    [0mstartTime[2m:[0m [0m[32m[0m[32m"20:00"[0m[0m[0m[2m,[0m
    [0mendTime[2m:[0m [0m[32m[0m[32m"22:00"[0m[0m[0m[2m,[0m
    [0mduration_minutes[2m:[0m [0m[33m120[0m[0m[2m,[0m
    [0mtimezone[2m:[0m [0m[32m[0m[32m"America/Los_Angeles"[0m[0m[0m[2m,[0m
    [0mlocation[2m:[0m [0m[32m[0m[32m"theater"[0m[0m[0m[2m,[0m
    [0mdisplayTime[2m:[0m [0m[32m[0m[32m"20:00 pm"[0m[0m[0m[2m,[0m
  }[0m[2m,[0m {
    [0msummary[2m:[0m [0m[32m[0m[32m"Hiking on October 6, 2025"[0m[0m[0m[2m,[0m
    [0mdate[2m:[0m [0m[32m[0m[32m"2025-10-06"[0m[0m[0m[2m,[0m
    [0mstartTime[2m:[0m [0m[32m[0m[32m"09:00"[0m[0m[0m[2m,[0m
    [0mendTime[2m:[0m [0m[32m[0m[32m"12:00"[0m[0m[0m[2m,[0m
    [0mduration_minutes[2m:[0m [0m[33m180[0m[0m[2m,[0m
    [0mtimezone[2m:[0m [0m[32m[0m[32m"America/Los_Angeles"[0m[0m[0m[2m,[0m
    [0mlocation[2m:[0m [0m[32m[0m[32m"park"[0m[0m[0m[2m,[0m
    [0mdisplayTime[2m:[0m [0m[32m[0m[32m"09:00 am"[0m[0m[0m[2m,[0m
  }[0m[2m,[0m {
    [0msummary[2m:[0m [0m[32m[0m[32m"Dinner on October 7, 2025"[0m[0m[0m[2m,[0m
    [0mdate[2m:[0m [0m[32m[0m[32m"2025-10-07"[0m[0m[0m[2m,[0m
    [0mstartTime[2m:[0m [0m[32m[0m[32m"19:00"[0m[0m[0m[2m,[0m
    [0mendTime[2m:[0m [0m[32m[0m[32m"20:00"[0m[0m[0m[2m,[0m
    [0mduration_minutes[2m:[0m [0m[33m60[0m[0m[2m,[0m
    [0mtimezone[2m:[0m [0m[32m[0m[32m"America/Los_Angeles"[0m[0m[0m[2m,[0m
    [0mlocation[2m:[0m [0m[32m[0m[32m"home"[0m[0m[0m[2m,[0m
    [0mdisplayTime[2m:[0m [0m[32m[0m[32m"19:00 pm"[0m[0m[0m[2m,[0m
  }
]
Regex partial imperfect-refining with LLM
Ready to send Payload:  {
  [0mpartial[2m:[0m [
    {
      [0msummary[2m:[0m [0m[32m[0m[32m"events: Meeting on October 1, 2025"[0m[0m[0m[2m,[0m
      [0mdate[2m:[0m [0m[32m[0m[32m"2025-10-01"[0m[0m[0m[2m,[0m
      [0mstartTime[2m:[0m [0m[32m[0m[32m"10:00"[0m[0m[0m[2m,[0m
      [0mendTime[2m:[0m [0m[32m[0m[32m"11:00"[0m[0m[0m[2m,[0m
      [0mduration_minutes[2m:[0m [0m[33m60[0m[0m[2m,[0m
      [0mtimezone[2m:[0m [0m[32m[0m[32m"America/Los_Angeles"[0m[0m[0m[2m,[0m
      [0mlocation[2m:[0m [0m[32m[0m[32m"office"[0m[0m[0m[2m,[0m
      [0mdisplayTime[2m:[0m [0m[32m[0m[32m"10:00 am"[0m[0m[0m[2m,[0m
    }[0m[2m,[0m {
      [0msummary[2m:[0m [0m[32m[0m[32m"Lunch on October 2, 2025"[0m[0m[0m[2m,[0m
      [0mdate[2m:[0m [0m[32m[0m[32m"2025-10-02"[0m[0m[0m[2m,[0m
      [0mstartTime[2m:[0m [0m[32m[0m[32m"12:00"[0m[0m[0m[2m,[0m
      [0mendTime[2m:[0m [0m[32m[0m[32m"13:00"[0m[0m[0m[2m,[0m
      [0mduration_minutes[2m:[0m [0m[33m60[0m[0m[2m,[0m
      [0mtimezone[2m:[0m [0m[32m[0m[32m"America/Los_Angeles"[0m[0m[0m[2m,[0m
      [0mlocation[2m:[0m [0m[32m[0m[32m"cafe"[0m[0m[0m[2m,[0m
      [0mdisplayTime[2m:[0m [0m[32m[0m[32m"12:00 pm"[0m[0m[0m[2m,[0m
    }[0m[2m,[0m {
      [0msummary[2m:[0m [0m[32m[0m[32m"Call on October 3, 2025"[0m[0m[0m[2m,[0m
      [0mdate[2m:[0m [0m[32m[0m[32m"2025-10-03"[0m[0m[0m[2m,[0m
      [0mstartTime[2m:[0m [0m[32m[0m[32m"14:00"[0m[0m[0m[2m,[0m
      [0mendTime[2m:[0m [0m[32m[0m[32m"15:00"[0m[0m[0m[2m,[0m
      [0mduration_minutes[2m:[0m [0m[33m60[0m[0m[2m,[0m
      [0mtimezone[2m:[0m [0m[32m[0m[32m"America/Los_Angeles"[0m[0m[0m[2m,[0m
      [0mlocation[2m:[0m [0m[33mnull[0m[0m[2m,[0m
      [0mdisplayTime[2m:[0m [0m[32m[0m[32m"14:00 pm"[0m[0m[0m[2m,[0m
    }[0m[2m,[0m {
      [0msummary[2m:[0m [0m[32m[0m[32m"Workout on October 4, 2025"[0m[0m[0m[2m,[0m
      [0mdate[2m:[0m [0m[32m[0m[32m"2025-10-04"[0m[0m[0m[2m,[0m
      [0mstartTime[2m:[0m [0m[32m[0m[32m"06:00"[0m[0m[0m[2m,[0m
      [0mendTime[2m:[0m [0m[32m[0m[32m"07:00"[0m[0m[0m[2m,[0m
      [0mduration_minutes[2m:[0m [0m[33m60[0m[0m[2m,[0m
      [0mtimezone[2m:[0m [0m[32m[0m[32m"America/Los_Angeles"[0m[0m[0m[2m,[0m
      [0mlocation[2m:[0m [0m[32m[0m[32m"gym"[0m[0m[0m[2m,[0m
      [0mdisplayTime[2m:[0m [0m[32m[0m[32m"06:00 am"[0m[0m[0m[2m,[0m
    }[0m[2m,[0m {
      [0msummary[2m:[0m [0m[32m[0m[32m"Movie on October 5, 2025"[0m[0m[0m[2m,[0m
      [0mdate[2m:[0m [0m[32m[0m[32m"2025-10-05"[0m[0m[0m[2m,[0m
      [0mstartTime[2m:[0m [0m[32m[0m[32m"20:00"[0m[0m[0m[2m,[0m
      [0mendTime[2m:[0m [0m[32m[0m[32m"22:00"[0m[0m[0m[2m,[0m
      [0mduration_minutes[2m:[0m [0m[33m120[0m[0m[2m,[0m
      [0mtimezone[2m:[0m [0m[32m[0m[32m"America/Los_Angeles"[0m[0m[0m[2m,[0m
      [0mlocation[2m:[0m [0m[32m[0m[32m"theater"[0m[0m[0m[2m,[0m
      [0mdisplayTime[2m:[0m [0m[32m[0m[32m"20:00 pm"[0m[0m[0m[2m,[0m
    }[0m[2m,[0m {
      [0msummary[2m:[0m [0m[32m[0m[32m"Hiking on October 6, 2025"[0m[0m[0m[2m,[0m
      [0mdate[2m:[0m [0m[32m[0m[32m"2025-10-06"[0m[0m[0m[2m,[0m
      [0mstartTime[2m:[0m [0m[32m[0m[32m"09:00"[0m[0m[0m[2m,[0m
      [0mendTime[2m:[0m [0m[32m[0m[32m"12:00"[0m[0m[0m[2m,[0m
      [0mduration_minutes[2m:[0m [0m[33m180[0m[0m[2m,[0m
      [0mtimezone[2m:[0m [0m[32m[0m[32m"America/Los_Angeles"[0m[0m[0m[2m,[0m
      [0mlocation[2m:[0m [0m[32m[0m[32m"park"[0m[0m[0m[2m,[0m
      [0mdisplayTime[2m:[0m [0m[32m[0m[32m"09:00 am"[0m[0m[0m[2m,[0m
    }[0m[2m,[0m {
      [0msummary[2m:[0m [0m[32m[0m[32m"Dinner on October 7, 2025"[0m[0m[0m[2m,[0m
      [0mdate[2m:[0m [0m[32m[0m[32m"2025-10-07"[0m[0m[0m[2m,[0m
      [0mstartTime[2m:[0m [0m[32m[0m[32m"19:00"[0m[0m[0m[2m,[0m
      [0mendTime[2m:[0m [0m[32m[0m[32m"20:00"[0m[0m[0m[2m,[0m
      [0mduration_minutes[2m:[0m [0m[33m60[0m[0m[2m,[0m
      [0mtimezone[2m:[0m [0m[32m[0m[32m"America/Los_Angeles"[0m[0m[0m[2m,[0m
      [0mlocation[2m:[0m [0m[32m[0m[32m"home"[0m[0m[0m[2m,[0m
      [0mdisplayTime[2m:[0m [0m[32m[0m[32m"19:00 pm"[0m[0m[0m[2m,[0m
    }
  ][0m[2m,[0m
  [0minput[2m:[0m [0m[32m[0m[32m"Add events: Meeting on October 1, 2025 from 10am to 11am at office; Lunch on October 2, 2025 from 12pm to 1pm at cafe; Call on October 3, 2025 from 2pm to 3pm; Workout on October 4, 2025 from 6am to 7am at gym; Movie on October 5, 2025 from 8pm to 10pm at theater; Hiking on October 6, 2025 from 9am to 12pm at park; Dinner on October 7, 2025 from 7pm to 8pm at home"[0m[0m[0m[2m,[0m
  [0mtimezone[2m:[0m [0m[32m[0m[32m"America/Los_Angeles"[0m[0m[0m[2m,[0m
  [0mreference_date[2m:[0m [0m[32m[0m[32m"2025-10-15"[0m[0m[0m[2m,[0m
  [0mparsed_results[2m:[0m [
    {
      [0mtext[2m:[0m [0m[32m[0m[32m"October 1, 2025 from 10am to 11am"[0m[0m[0m[2m,[0m
      [0mstart[2m:[0m [0m[32m[0m[32m"2025-10-01T17:00:00.000Z"[0m[0m[0m[2m,[0m
      [0mend[2m:[0m [0m[32m[0m[32m"2025-10-01T18:00:00.000Z"[0m[0m[0m[2m,[0m
    }[0m[2m,[0m {
      [0mtext[2m:[0m [0m[32m[0m[32m"October 2, 2025 from 12pm to 1pm"[0m[0m[0m[2m,[0m
      [0mstart[2m:[0m [0m[32m[0m[32m"2025-10-02T19:00:00.000Z"[0m[0m[0m[2m,[0m
      [0mend[2m:[0m [0m[32m[0m[32m"2025-10-02T20:00:00.000Z"[0m[0m[0m[2m,[0m
    }[0m[2m,[0m {
      [0mtext[2m:[0m [0m[32m[0m[32m"October 3, 2025 from 2pm to 3pm"[0m[0m[0m[2m,[0m
      [0mstart[2m:[0m [0m[32m[0m[32m"2025-10-03T21:00:00.000Z"[0m[0m[0m[2m,[0m
      [0mend[2m:[0m [0m[32m[0m[32m"2025-10-03T22:00:00.000Z"[0m[0m[0m[2m,[0m
    }[0m[2m,[0m {
      [0mtext[2m:[0m [0m[32m[0m[32m"October 4, 2025 from 6am to 7am"[0m[0m[0m[2m,[0m
      [0mstart[2m:[0m [0m[32m[0m[32m"2025-10-04T13:00:00.000Z"[0m[0m[0m[2m,[0m
      [0mend[2m:[0m [0m[32m[0m[32m"2025-10-04T14:00:00.000Z"[0m[0m[0m[2m,[0m
    }[0m[2m,[0m {
      [0mtext[2m:[0m [0m[32m[0m[32m"October 5, 2025 from 8pm to 10pm"[0m[0m[0m[2m,[0m
      [0mstart[2m:[0m [0m[32m[0m[32m"2025-10-06T03:00:00.000Z"[0m[0m[0m[2m,[0m
      [0mend[2m:[0m [0m[32m[0m[32m"2025-10-06T05:00:00.000Z"[0m[0m[0m[2m,[0m
    }[0m[2m,[0m {
      [0mtext[2m:[0m [0m[32m[0m[32m"October 6, 2025 from 9am to 12pm"[0m[0m[0m[2m,[0m
      [0mstart[2m:[0m [0m[32m[0m[32m"2025-10-06T16:00:00.000Z"[0m[0m[0m[2m,[0m
      [0mend[2m:[0m [0m[32m[0m[32m"2025-10-06T19:00:00.000Z"[0m[0m[0m[2m,[0m
    }[0m[2m,[0m {
      [0mtext[2m:[0m [0m[32m[0m[32m"October 7, 2025 from 7pm to 8pm"[0m[0m[0m[2m,[0m
      [0mstart[2m:[0m [0m[32m[0m[32m"2025-10-08T02:00:00.000Z"[0m[0m[0m[2m,[0m
      [0mend[2m:[0m [0m[32m[0m[32m"2025-10-08T03:00:00.000Z"[0m[0m[0m[2m,[0m
    }
  ][0m[2m,[0m
}
Refined from server:  {
  [0mevents[2m:[0m [
    {
      [0msummary[2m:[0m [0m[32m[0m[32m"events: Meeting on October 1, 2025"[0m[0m[0m[2m,[0m
      [0mdate[2m:[0m [0m[32m[0m[32m"2025-10-01"[0m[0m[0m[2m,[0m
      [0mstartTime[2m:[0m [0m[32m[0m[32m"10:00"[0m[0m[0m[2m,[0m
      [0mendTime[2m:[0m [0m[32m[0m[32m"11:00"[0m[0m[0m[2m,[0m
      [0mduration_minutes[2m:[0m [0m[33m60[0m[0m[2m,[0m
      [0mtimezone[2m:[0m [0m[32m[0m[32m"America/Los_Angeles"[0m[0m[0m[2m,[0m
      [0mlocation[2m:[0m [0m[32m[0m[32m"office"[0m[0m[0m[2m,[0m
      [0mdisplayTime[2m:[0m [0m[32m[0m[32m"10:00 am"[0m[0m[0m[2m,[0m
    }[0m[2m,[0m {
      [0msummary[2m:[0m [0m[32m[0m[32m"Lunch on October 2, 2025"[0m[0m[0m[2m,[0m
      [0mdate[2m:[0m [0m[32m[0m[32m"2025-10-02"[0m[0m[0m[2m,[0m
      [0mstartTime[2m:[0m [0m[32m[0m[32m"12:00"[0m[0m[0m[2m,[0m
      [0mendTime[2m:[0m [0m[32m[0m[32m"13:00"[0m[0m[0m[2m,[0m
      [0mduration_minutes[2m:[0m [0m[33m60[0m[0m[2m,[0m
      [0mtimezone[2m:[0m [0m[32m[0m[32m"America/Los_Angeles"[0m[0m[0m[2m,[0m
      [0mlocation[2m:[0m [0m[32m[0m[32m"cafe"[0m[0m[0m[2m,[0m
      [0mdisplayTime[2m:[0m [0m[32m[0m[32m"12:00 pm"[0m[0m[0m[2m,[0m
    }[0m[2m,[0m {
      [0msummary[2m:[0m [0m[32m[0m[32m"Call on October 3, 2025"[0m[0m[0m[2m,[0m
      [0mdate[2m:[0m [0m[32m[0m[32m"2025-10-03"[0m[0m[0m[2m,[0m
      [0mstartTime[2m:[0m [0m[32m[0m[32m"14:00"[0m[0m[0m[2m,[0m
      [0mendTime[2m:[0m [0m[32m[0m[32m"15:00"[0m[0m[0m[2m,[0m
      [0mduration_minutes[2m:[0m [0m[33m60[0m[0m[2m,[0m
      [0mtimezone[2m:[0m [0m[32m[0m[32m"America/Los_Angeles"[0m[0m[0m[2m,[0m
      [0mlocation[2m:[0m [0m[33mnull[0m[0m[2m,[0m
      [0mdisplayTime[2m:[0m [0m[32m[0m[32m"14:00 pm"[0m[0m[0m[2m,[0m
    }[0m[2m,[0m {
      [0msummary[2m:[0m [0m[32m[0m[32m"Workout on October 4, 2025"[0m[0m[0m[2m,[0m
      [0mdate[2m:[0m [0m[32m[0m[32m"2025-10-04"[0m[0m[0m[2m,[0m
      [0mstartTime[2m:[0m [0m[32m[0m[32m"06:00"[0m[0m[0m[2m,[0m
      [0mendTime[2m:[0m [0m[32m[0m[32m"07:00"[0m[0m[0m[2m,[0m
      [0mduration_minutes[2m:[0m [0m[33m60[0m[0m[2m,[0m
      [0mtimezone[2m:[0m [0m[32m[0m[32m"America/Los_Angeles"[0m[0m[0m[2m,[0m
      [0mlocation[2m:[0m [0m[32m[0m[32m"gym"[0m[0m[0m[2m,[0m
      [0mdisplayTime[2m:[0m [0m[32m[0m[32m"06:00 am"[0m[0m[0m[2m,[0m
    }[0m[2m,[0m {
      [0msummary[2m:[0m [0m[32m[0m[32m"Movie on October 5, 2025"[0m[0m[0m[2m,[0m
      [0mdate[2m:[0m [0m[32m[0m[32m"2025-10-05"[0m[0m[0m[2m,[0m
      [0mstartTime[2m:[0m [0m[32m[0m[32m"20:00"[0m[0m[0m[2m,[0m
      [0mendTime[2m:[0m [0m[32m[0m[32m"22:00"[0m[0m[0m[2m,[0m
      [0mduration_minutes[2m:[0m [0m[33m120[0m[0m[2m,[0m
      [0mtimezone[2m:[0m [0m[32m[0m[32m"America/Los_Angeles"[0m[0m[0m[2m,[0m
      [0mlocation[2m:[0m [0m[32m[0m[32m"theater"[0m[0m[0m[2m,[0m
      [0mdisplayTime[2m:[0m [0m[32m[0m[32m"20:00 pm"[0m[0m[0m[2m,[0m
    }[0m[2m,[0m {
      [0msummary[2m:[0m [0m[32m[0m[32m"Hiking on October 6, 2025"[0m[0m[0m[2m,[0m
      [0mdate[2m:[0m [0m[32m[0m[32m"2025-10-06"[0m[0m[0m[2m,[0m
      [0mstartTime[2m:[0m [0m[32m[0m[32m"09:00"[0m[0m[0m[2m,[0m
      [0mendTime[2m:[0m [0m[32m[0m[32m"12:00"[0m[0m[0m[2m,[0m
      [0mduration_minutes[2m:[0m [0m[33m180[0m[0m[2m,[0m
      [0mtimezone[2m:[0m [0m[32m[0m[32m"America/Los_Angeles"[0m[0m[0m[2m,[0m
      [0mlocation[2m:[0m [0m[32m[0m[32m"park"[0m[0m[0m[2m,[0m
      [0mdisplayTime[2m:[0m [0m[32m[0m[32m"09:00 am"[0m[0m[0m[2m,[0m
    }[0m[2m,[0m {
      [0msummary[2m:[0m [0m[32m[0m[32m"Dinner on October 7, 2025"[0m[0m[0m[2m,[0m
      [0mdate[2m:[0m [0m[32m[0m[32m"2025-10-07"[0m[0m[0m[2m,[0m
      [0mstartTime[2m:[0m [0m[32m[0m[32m"19:00"[0m[0m[0m[2m,[0m
      [0mendTime[2m:[0m [0m[32m[0m[32m"20:00"[0m[0m[0m[2m,[0m
      [0mduration_minutes[2m:[0m [0m[33m60[0m[0m[2m,[0m
      [0mtimezone[2m:[0m [0m[32m[0m[32m"America/Los_Angeles"[0m[0m[0m[2m,[0m
      [0mlocation[2m:[0m [0m[32m[0m[32m"home"[0m[0m[0m[2m,[0m
      [0mdisplayTime[2m:[0m [0m[32m[0m[32m"19:00 pm"[0m[0m[0m[2m,[0m
    }
  ][0m[2m,[0m
  [0mconfirm[2m:[0m [0m[32m[0m[32m"Partial parse-confirm?"[0m[0m[0m[2m,[0m
}
Parsing Completed
Time Completed Parsing:  [0m[33m1390.109113[0m
[0m[1m4 |[0m [0m[35mimport[0m { describe, expect, test, jest } [0m[35mfrom[0m [0m[32m"bun:test"[0m[0m[2m;[0m
[0m[1m5 |[0m [0m[35mimport[0m { fileURLToPath } [0m[35mfrom[0m [0m[32m"url"[0m[0m[2m;[0m
[0m[1m6 |[0m 
[0m[1m7 |[0m [0m[35mfunction[0m parseNdjsonResponse(res: [0m[34many[0m): [0m[34many[0m[] {
[0m[1m8 |[0m   [0m[35mconst[0m chunks: [0m[34many[0m[] = [][0m[2m;[0m
[0m[1m9 |[0m   [0m[35mconst[0m lines = res.text[0m[3m[1m.split[0m([0m[32m"\n"[0m)[0m[3m[1m.filter[0m((line) => line[0m[3m[1m.trim[0m())[0m[2m;[0m
                             [31m[1m^[0m
[0m[31mTypeError[0m[2m:[0m [1mres.text.split is not a function. (In 'res.text.split(`
`)', 'res.text.split' is undefined)[0m
[0m      [2mat [0m[0m[1m[3mparseNdjsonResponse[0m[2m ([0m[0m[36m[2m/home/kyle/Deployments/mcp-server-taskler/[0m[36msrc/tests/api/schedules-bun.test.ts[0m[2m:[0m[33m9[0m[2m:[33m26[0m[2m)[0m
[0m      [2mat [0m[0m[2m<anonymous>[0m[2m ([0m[0m[36m[2m/home/kyle/Deployments/mcp-server-taskler/[0m[36msrc/tests/api/schedules-bun.test.ts[0m[2m:[0m[33m137[0m[2m:[33m20[0m[2m)[0m
[0m[31m✗[0m [0mAPI Endpoint : POST /mcp/tools/process-query[2m >[0m[1m should handle multi-days events add query ("add" intent with refinement)[0m [0m[2m[[1m1392.24ms[0m[2m][0m
[{"text":"at 10 AM to 11 AM","start":"2025-10-10T17:00:00.000Z","end":"2025-10-10T18:00:00.000Z"},{"text":"at 12 PM to 1 PM","start":"2025-10-10T19:00:00.000Z","end":"2025-10-10T20:00:00.000Z"}]
User Input:  Schedule meeting at 10 AM to 11 AM and lunch at 12 PM to 1 PM tomorrow
classifyIntent is called
events is parsed with regex:  [
  {
    [0msummary[2m:[0m [0m[32m[0m[32m"Schedule meeting"[0m[0m[0m[2m,[0m
    [0mdate[2m:[0m [0m[32m[0m[32m"2025-10-10"[0m[0m[0m[2m,[0m
    [0mstartTime[2m:[0m [0m[32m[0m[32m"10:00"[0m[0m[0m[2m,[0m
    [0mendTime[2m:[0m [0m[32m[0m[32m"11:00"[0m[0m[0m[2m,[0m
    [0mduration_minutes[2m:[0m [0m[33m60[0m[0m[2m,[0m
    [0mtimezone[2m:[0m [0m[32m[0m[32m"America/Los_Angeles"[0m[0m[0m[2m,[0m
    [0mlocation[2m:[0m [0m[32m[0m[32m"10 AM to 11 AM and lunch at 12 PM to 1 PM tomorrow"[0m[0m[0m[2m,[0m
    [0mdisplayTime[2m:[0m [0m[32m[0m[32m"10:00 am"[0m[0m[0m[2m,[0m
  }[0m[2m,[0m {
    [0msummary[2m:[0m [0m[32m[0m[32m"Schedule meeting"[0m[0m[0m[2m,[0m
    [0mdate[2m:[0m [0m[32m[0m[32m"2025-10-10"[0m[0m[0m[2m,[0m
    [0mstartTime[2m:[0m [0m[32m[0m[32m"12:00"[0m[0m[0m[2m,[0m
    [0mendTime[2m:[0m [0m[32m[0m[32m"13:00"[0m[0m[0m[2m,[0m
    [0mduration_minutes[2m:[0m [0m[33m60[0m[0m[2m,[0m
    [0mtimezone[2m:[0m [0m[32m[0m[32m"America/Los_Angeles"[0m[0m[0m[2m,[0m
    [0mlocation[2m:[0m [0m[32m[0m[32m"10 AM to 11 AM and lunch at 12 PM to 1 PM tomorrow"[0m[0m[0m[2m,[0m
    [0mdisplayTime[2m:[0m [0m[32m[0m[32m"12:00 pm"[0m[0m[0m[2m,[0m
  }
]
Regex partial imperfect-refining with LLM
Ready to send Payload:  {
  [0mpartial[2m:[0m [
    {
      [0msummary[2m:[0m [0m[32m[0m[32m"Schedule meeting"[0m[0m[0m[2m,[0m
      [0mdate[2m:[0m [0m[32m[0m[32m"2025-10-10"[0m[0m[0m[2m,[0m
      [0mstartTime[2m:[0m [0m[32m[0m[32m"10:00"[0m[0m[0m[2m,[0m
      [0mendTime[2m:[0m [0m[32m[0m[32m"11:00"[0m[0m[0m[2m,[0m
      [0mduration_minutes[2m:[0m [0m[33m60[0m[0m[2m,[0m
      [0mtimezone[2m:[0m [0m[32m[0m[32m"America/Los_Angeles"[0m[0m[0m[2m,[0m
      [0mlocation[2m:[0m [0m[32m[0m[32m"10 AM to 11 AM and lunch at 12 PM to 1 PM tomorrow"[0m[0m[0m[2m,[0m
      [0mdisplayTime[2m:[0m [0m[32m[0m[32m"10:00 am"[0m[0m[0m[2m,[0m
    }[0m[2m,[0m {
      [0msummary[2m:[0m [0m[32m[0m[32m"Schedule meeting"[0m[0m[0m[2m,[0m
      [0mdate[2m:[0m [0m[32m[0m[32m"2025-10-10"[0m[0m[0m[2m,[0m
      [0mstartTime[2m:[0m [0m[32m[0m[32m"12:00"[0m[0m[0m[2m,[0m
      [0mendTime[2m:[0m [0m[32m[0m[32m"13:00"[0m[0m[0m[2m,[0m
      [0mduration_minutes[2m:[0m [0m[33m60[0m[0m[2m,[0m
      [0mtimezone[2m:[0m [0m[32m[0m[32m"America/Los_Angeles"[0m[0m[0m[2m,[0m
      [0mlocation[2m:[0m [0m[32m[0m[32m"10 AM to 11 AM and lunch at 12 PM to 1 PM tomorrow"[0m[0m[0m[2m,[0m
      [0mdisplayTime[2m:[0m [0m[32m[0m[32m"12:00 pm"[0m[0m[0m[2m,[0m
    }
  ][0m[2m,[0m
  [0minput[2m:[0m [0m[32m[0m[32m"Schedule meeting at 10 AM to 11 AM and lunch at 12 PM to 1 PM tomorrow"[0m[0m[0m[2m,[0m
  [0mtimezone[2m:[0m [0m[32m[0m[32m"America/Los_Angeles"[0m[0m[0m[2m,[0m
  [0mreference_date[2m:[0m [0m[32m[0m[32m"2025-10-15"[0m[0m[0m[2m,[0m
  [0mparsed_results[2m:[0m [
    {
      [0mtext[2m:[0m [0m[32m[0m[32m"at 10 AM to 11 AM"[0m[0m[0m[2m,[0m
      [0mstart[2m:[0m [0m[32m[0m[32m"2025-10-10T17:00:00.000Z"[0m[0m[0m[2m,[0m
      [0mend[2m:[0m [0m[32m[0m[32m"2025-10-10T18:00:00.000Z"[0m[0m[0m[2m,[0m
    }[0m[2m,[0m {
      [0mtext[2m:[0m [0m[32m[0m[32m"at 12 PM to 1 PM"[0m[0m[0m[2m,[0m
      [0mstart[2m:[0m [0m[32m[0m[32m"2025-10-10T19:00:00.000Z"[0m[0m[0m[2m,[0m
      [0mend[2m:[0m [0m[32m[0m[32m"2025-10-10T20:00:00.000Z"[0m[0m[0m[2m,[0m
    }
  ][0m[2m,[0m
}
[0m[33m[Bun.serve][0m[2m:[0m request timed out after 10 seconds. Pass [2m[36m`idleTimeout`[0m to configure.
[0m[31m✗[0m [0mAPI Endpoint : POST /mcp/tools/process-query[2m >[0m[1m should handle multi-events in one day add query ("add" intent)[0m [0m[2m[[0m[33m30000.10ms[0m[2m][0m
  [2m^[0m [31mthis test timed out after 30000ms.[0m

 0 pass[0m
[0m[31m 5 fail[0m
Ran 5 tests across 1 file. [0m[2m[[1m49.23s[0m[2m][0m
[1m[7m%[27m[1m[0m                                                                                                                               ]2;kyle@kyle:~/Deployments/mcp-server-taskler]1;..erver-taskler[0m[27m[24m[J[01;31m➜  [36mmcp-server-taskler[00m [01;34mgit:([31mframework-change[34m) [33m✗[00m [K[?1h=[?2004he[32me[39m[?1l>[?2004l
[J[A[48C
]2;exit]1;e
Script done on 2025-10-14 21:15:48-07:00 [COMMAND_EXIT_CODE="1"]
