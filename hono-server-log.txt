Script started on 2025-10-15 10:24:44-07:00 [COMMAND="  echo 'change directory to hono-server' &&   cd /home/kyle/Deployments/mcp-server-taskler &&   echo 'pull the latest code from github' &&   eval "$(ssh-agent -s)" && ssh-add /home/kyle/.ssh/github-key && git fetch && git pull &&   echo 'start the test' &&   bun test src/tests/api/schedules-bun.test.ts " TERM="xterm-256color" TTY="/dev/pts/2" COLUMNS="101" LINES="49"]
change directory to hono-server
pull the latest code from github
Agent pid 118110
Identity added: /home/kyle/.ssh/github-key (knguyen1193@outlook.com)
remote: Enumerating objects: 7, done.[K
remote: Counting objects:  14% (1/7)[Kremote: Counting objects:  28% (2/7)[Kremote: Counting objects:  42% (3/7)[Kremote: Counting objects:  57% (4/7)[Kremote: Counting objects:  71% (5/7)[Kremote: Counting objects:  85% (6/7)[Kremote: Counting objects: 100% (7/7)[Kremote: Counting objects: 100% (7/7), done.[K
remote: Compressing objects:  50% (1/2)[Kremote: Compressing objects: 100% (2/2)[Kremote: Compressing objects: 100% (2/2), done.[K
remote: Total 7 (delta 4), reused 7 (delta 4), pack-reused 0 (from 0)[K
Unpacking objects:  14% (1/7)Unpacking objects:  28% (2/7)Unpacking objects:  42% (3/7)Unpacking objects:  57% (4/7)Unpacking objects:  71% (5/7)Unpacking objects:  85% (6/7)Unpacking objects: 100% (7/7)Unpacking objects: 100% (7/7), 907 bytes | 113.00 KiB/s, done.
From github.com:kylenguyen-cs30/mcp-server-taskler
   dd3aedc..eb63e4e  framework-change -> origin/framework-change
Updating dd3aedc..eb63e4e
Fast-forward
 src/index.ts                        |  11 [31m---[m
 src/tests/api/schedules-bun.test.ts | 187 [32m++++++++++++++++++++++++[m[31m-------------------------[m
 src/tests/api/schedules.test.ts     | 217 [31m---------------------------------------------------------[m
 3 files changed, 94 insertions(+), 321 deletions(-)
 delete mode 100644 src/tests/api/schedules.test.ts
start the test
[0m[1mbun test [0m[2mv1.3.0 (b0a6feca)[0m
[0m
src/tests/api/schedules-bun.test.ts:
[dotenv@17.2.3] injecting env (0) from .env [2m-- tip: 🔐 prevent committing .env to code: https://dotenvx.com/precommit[0m
Loaded MODEL_PARSE: /home/kyle/.models/mistral-7b-instruct-v0.1.Q4_K_M.gguf
[]
User Input:  How are you doing?
classifyIntent is called
Intent returned :  other
response from LLM SERVER :  {
  [0mnatural_response[2m:[0m [0m[32m[0m[32m"I'm here to help with your schedule! What task can I assist with today?"[0m[0m[0m[2m,[0m
}
Generated response:  I'm here to help with your schedule! What task can I assist with today?
naturalResponse/other :  I'm here to help with your schedule! What task can I assist with today?
Response (40 bytes) {
  [0mok[2m:[0m [0m[33mtrue[0m[0m[2m,[0m
  [0murl[2m:[0m "[0m[1mhttp://localhost:39159/mcp/tools/process-query[0m"[0m[2m,[0m
  [0mstatus[2m:[0m [0m[33m200[0m[0m[2m,[0m
  [0mstatusText[2m:[0m [0m"[1mOK[0m"[0m[2m,[0m
  [0mheaders[2m:[0m [0mHeaders {
    [0m[32m"access-control-allow-origin"[0m[2m:[0m [0m[32m[0m[32m"*"[0m[0m[0m[2m,[0m
    [0m[32m"access-control-allow-credentials"[0m[2m:[0m [0m[32m[0m[32m"true"[0m[0m[0m[2m,[0m
    [0m[32m"content-type"[0m[2m:[0m [0m[32m[0m[32m"text/plain; charset=UTF-8"[0m[0m[0m[2m,[0m
    [0m[32m"x-content-type-options"[0m[2m:[0m [0m[32m[0m[32m"nosniff"[0m[0m[0m[2m,[0m
    [0m[32m"date"[0m[2m:[0m [0m[32m[0m[32m"Wed, 15 Oct 2025 17:24:49 GMT"[0m[0m[0m[2m,[0m
    [0m[32m"content-length"[0m[2m:[0m [0m[32m[0m[32m"40"[0m[0m[0m[2m,[0m
  }[0m[2m,[0m
  [0mredirected[2m:[0m [0m[33mfalse[0m[0m[2m,[0m
  [0mbodyUsed[2m:[0m [0m[33mfalse[0m[0m[2m,[0m
  [0mBlob[0m ([33m40 bytes[0m)
}
 [0m[1m5 |[0m [0m[35mimport[0m { fileURLToPath } [0m[35mfrom[0m [0m[32m"url"[0m[0m[2m;[0m
 [0m[1m6 |[0m 
 [0m[1m7 |[0m [0m[35mfunction[0m parseNdjsonResponse(res: [0m[34many[0m): [0m[34many[0m[] {
 [0m[1m8 |[0m   console[0m[3m[1m.log[0m(res)[0m[2m;[0m
 [0m[1m9 |[0m   [0m[35mconst[0m chunks: [0m[34many[0m[] = [][0m[2m;[0m
[0m[1m10 |[0m   [0m[35mconst[0m lines = res.text[0m[3m[1m.split[0m([0m[32m"\n"[0m)[0m[3m[1m.filter[0m((line) => line[0m[3m[1m.trim[0m())[0m[2m;[0m
                              [31m[1m^[0m
[0m[31mTypeError[0m[2m:[0m [1mres.text.split is not a function. (In 'res.text.split(`
`)', 'res.text.split' is undefined)[0m
[0m      [2mat [0m[0m[1m[3mparseNdjsonResponse[0m[2m ([0m[0m[36m[2m/home/kyle/Deployments/mcp-server-taskler/[0m[36msrc/tests/api/schedules-bun.test.ts[0m[2m:[0m[33m10[0m[2m:[33m26[0m[2m)[0m
[0m      [2mat [0m[0m[2m<anonymous>[0m[2m ([0m[0m[36m[2m/home/kyle/Deployments/mcp-server-taskler/[0m[36msrc/tests/api/schedules-bun.test.ts[0m[2m:[0m[33m50[0m[2m:[33m20[0m[2m)[0m
[0m[31m✗[0m [0mAPI Endpoint : POST /mcp/tools/process-query[2m >[0m[1m should handle chit-chat query ("other" intent)[0m [0m[2m[[1m1217.80ms[0m[2m][0m
[]
User Input:  What is 2 + 3 * 4?
classifyIntent is called
Intent returned :  other
response from LLM SERVER :  {
  [0mnatural_response[2m:[0m [0m[32m[0m[32m"Result: t. How does this relate to your schedule ? "[0m[0m[0m[2m,[0m
}
Generated response:  Result: t. How does this relate to your schedule ? 
naturalResponse/other :  Result: t. How does this relate to your schedule ? 
Response (40 bytes) {
  [0mok[2m:[0m [0m[33mtrue[0m[0m[2m,[0m
  [0murl[2m:[0m "[0m[1mhttp://localhost:37547/mcp/tools/process-query[0m"[0m[2m,[0m
  [0mstatus[2m:[0m [0m[33m200[0m[0m[2m,[0m
  [0mstatusText[2m:[0m [0m"[1mOK[0m"[0m[2m,[0m
  [0mheaders[2m:[0m [0mHeaders {
    [0m[32m"access-control-allow-origin"[0m[2m:[0m [0m[32m[0m[32m"*"[0m[0m[0m[2m,[0m
    [0m[32m"access-control-allow-credentials"[0m[2m:[0m [0m[32m[0m[32m"true"[0m[0m[0m[2m,[0m
    [0m[32m"content-type"[0m[2m:[0m [0m[32m[0m[32m"text/plain; charset=UTF-8"[0m[0m[0m[2m,[0m
    [0m[32m"x-content-type-options"[0m[2m:[0m [0m[32m[0m[32m"nosniff"[0m[0m[0m[2m,[0m
    [0m[32m"date"[0m[2m:[0m [0m[32m[0m[32m"Wed, 15 Oct 2025 17:24:49 GMT"[0m[0m[0m[2m,[0m
    [0m[32m"content-length"[0m[2m:[0m [0m[32m[0m[32m"40"[0m[0m[0m[2m,[0m
  }[0m[2m,[0m
  [0mredirected[2m:[0m [0m[33mfalse[0m[0m[2m,[0m
  [0mbodyUsed[2m:[0m [0m[33mfalse[0m[0m[2m,[0m
  [0mBlob[0m ([33m40 bytes[0m)
}
 [0m[1m5 |[0m [0m[35mimport[0m { fileURLToPath } [0m[35mfrom[0m [0m[32m"url"[0m[0m[2m;[0m
 [0m[1m6 |[0m 
 [0m[1m7 |[0m [0m[35mfunction[0m parseNdjsonResponse(res: [0m[34many[0m): [0m[34many[0m[] {
 [0m[1m8 |[0m   console[0m[3m[1m.log[0m(res)[0m[2m;[0m
 [0m[1m9 |[0m   [0m[35mconst[0m chunks: [0m[34many[0m[] = [][0m[2m;[0m
[0m[1m10 |[0m   [0m[35mconst[0m lines = res.text[0m[3m[1m.split[0m([0m[32m"\n"[0m)[0m[3m[1m.filter[0m((line) => line[0m[3m[1m.trim[0m())[0m[2m;[0m
                              [31m[1m^[0m
[0m[31mTypeError[0m[2m:[0m [1mres.text.split is not a function. (In 'res.text.split(`
`)', 'res.text.split' is undefined)[0m
[0m      [2mat [0m[0m[1m[3mparseNdjsonResponse[0m[2m ([0m[0m[36m[2m/home/kyle/Deployments/mcp-server-taskler/[0m[36msrc/tests/api/schedules-bun.test.ts[0m[2m:[0m[33m10[0m[2m:[33m26[0m[2m)[0m
[0m      [2mat [0m[0m[2m<anonymous>[0m[2m ([0m[0m[36m[2m/home/kyle/Deployments/mcp-server-taskler/[0m[36msrc/tests/api/schedules-bun.test.ts[0m[2m:[0m[33m79[0m[2m:[33m20[0m[2m)[0m
[0m[31m✗[0m [0mAPI Endpoint : POST /mcp/tools/process-query[2m >[0m[1m should handle computational-math query ("other" intent)[0m [0m[2m[[1m188.91ms[0m[2m][0m

 0 pass[0m
[0m[31m 2 fail[0m
Ran 2 tests across 1 file. [0m[2m[[1m1.50s[0m[2m][0m

Script done on 2025-10-15 10:24:50-07:00 [COMMAND_EXIT_CODE="1"]
